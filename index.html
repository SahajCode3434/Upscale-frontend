<!DOCTYPE html><html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DragonScale - AI Image Upscaler</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        font-family: 'Orbitron', sans-serif;
      }
      .loader {
        border: 6px solid #f3f3f3;
        border-top: 6px solid #f97316;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    </style>
  </head>
  <body class="bg-black text-white min-h-screen flex flex-col items-center justify-center p-4">
    <div class="text-center">
      <h1 class="text-4xl sm:text-5xl font-bold text-orange-500 mb-4 animate-pulse">DragonScale</h1>
      <p class="text-lg mb-6 text-gray-300">Unleash ultra-sharp 4x image upscaling</p>
      <div class="w-full max-w-md mx-auto bg-gray-900 p-6 rounded-xl shadow-2xl">
        <input id="imageUpload" type="file" accept="image/*" class="block w-full mb-4 text-sm text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-orange-600 file:text-white hover:file:bg-orange-700" /><div class="flex flex-col sm:flex-row gap-4 mb-4 justify-center items-center">
      <img id="previewImage" src="" alt="Preview" class="w-32 h-32 object-cover rounded-lg border border-gray-700" />
      <div id="loader" class="loader hidden"></div>
    </div>

    <button id="submitBtn" class="bg-orange-600 hover:bg-orange-700 w-full py-2 px-4 rounded-lg text-white font-semibold transition-all duration-300">Upscale Image</button>

    <div class="mt-6">
      <h2 class="text-md font-semibold text-gray-400">Upscaled Output:</h2>
      <img id="resultImage" src="" alt="Upscaled Result" class="mt-2 w-full rounded-lg border border-gray-700" />
    </div>
  </div>
</div>

<script>
  const imageUpload = document.getElementById("imageUpload");
  const previewImage = document.getElementById("previewImage");
  const resultImage = document.getElementById("resultImage");
  const submitBtn = document.getElementById("submitBtn");
  const loader = document.getElementById("loader");
  let uploadedImage = null;

  imageUpload.addEventListener("change", () => {
    const file = imageUpload.files[0];
    if (file) {
      uploadedImage = file;
      const reader = new FileReader();
      reader.onload = () => {
        previewImage.src = reader.result;
      };
      reader.readAsDataURL(file);
    }
  });

  submitBtn.addEventListener("click", async () => {
    if (!uploadedImage) {
      alert("Please upload an image first.");
      return;
    }

    submitBtn.disabled = true;
    loader.classList.remove("hidden");
    resultImage.src = "";

    const formData = new FormData();
    formData.append("image", uploadedImage);

    try {
      const response = await fetch("https://tree1.sahajsharma921.workers.dev", {
        method: "POST",
        body: formData,
      });

      if (!response.ok) {
        throw new Error(`Upscale failed: ${response.status} ${response.statusText}`);
      }

      const blob = await response.blob();
      resultImage.src = URL.createObjectURL(blob);
    } catch (error) {
      alert(error.message);
      console.error(error);
    } finally {
      loader.classList.add("hidden");
      submitBtn.disabled = false;
    }
  });
</script>

  </body>
</html>
